const e={BASE_URL:"https://api.themoviedb.org/3/",ENDPOINT:"trending/movie/day",IMGURL:"https://image.tmdb.org/t/p/w300/",KEY:"708f0b64505f12eb8c20b5a01361fdf3",currentPage:1,list:document.querySelector(".js-list"),btnLoadMore:document.querySelector(".js-load-more")};e.btnLoadMore.addEventListener("click",(function(){e.currentPage++,t(e.currentPage).then((t=>{e.list.insertAdjacentHTML("beforeend",n(t.results)),t.page===t.total_results&&(e.btnLoadMore.hidden=!0)})).catch((e=>console.assert(e)))}));e.KEY;function t(t=1){const n=new URLSearchParams({page:t});return fetch(`${e.BASE_URL}${e.ENDPOINT}?api_key=${e.KEY}&${n}`).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}function n(t){return t.map((({poster_path:t,title:n,overview:r})=>`<li class="card">\n        <img src="${e.IMGURL}${t}" alt="${n} class="img">\n        <h2>${n}</h2>\n        <p class="overview">${r}</p>\n            </li>`)).join("")}t().then((t=>{e.list.insertAdjacentHTML("beforeend",n(t.results)),t.page!=t.total_pages&&(e.btnLoadMore.hidden=!1)})).catch((e=>console.assert(e)));
//# sourceMappingURL=04-film.5f4d9e17.js.map
