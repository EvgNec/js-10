{"mappings":"AAGA,MAAMA,EAAO,CACXC,SAAU,+BACVC,SAAU,iBACRC,IAAK,kCACPC,KAAMC,SAASC,cAAc,mBAC7BC,KAAMF,SAASC,cAAc,0BAI/BN,EAAKI,KAAKI,iBAAiB,UAAWC,IAClCA,EAAEC,iBACF,MAAMC,MAACA,EAAKC,KAAEA,GAAQH,EAAEI,cAAcC,UAM1C,SAAoBC,EAAMH,GACxB,MAAMI,EAAQ,IAAIC,gBAAgB,CAChCC,EAAGH,E,KACHH,IAEF,OAAOO,MAAM,GAAGnB,EAAKC,WAAWD,EAAKE,gBAAgBF,EAAKG,OAAOa,KAASI,MACxEC,IACE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,MAAM,G,EAfpBC,CAAWf,EAAMgB,MAAOf,EAAKe,OACxBP,MAAMQ,GAAS5B,EAAKO,KAAKsB,UAAuBD,EAAKE,SAASC,YAoBxDC,KAAI,EAACJ,KAACA,EAAMK,KAAKC,UAACA,EAAWC,WAAUC,KAACA,EAAIC,KAAEA,OACtD,2BACaD,WAAcC,mBACrBA,sBACCT,uBACAM,sBAETI,KAAK,MA1BDC,OAAOC,GAAQC,QAAQC,IAAIF,IAAK","sources":["src/js/08-w.js"],"sourcesContent":["/*http://api.weatherapi.com/v1/forecast.json?key=4a0f16517e4d46ca8cd192223241209&q=Leiria&days=5\n */\n\nconst refs = {\n  BASE_URL: 'http://api.weatherapi.com/v1',\n  ENDPOINT: '/forecast.json',\n    KEY: '4a0f16517e4d46ca8cd192223241209',\n  form: document.querySelector('.js-search-form'),\n  list: document.querySelector('.js-weather-container'),\n};\nconst options = {};\n\nrefs.form.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const {query, days} = e.currentTarget.elements\n    getWeather(query.value, days.value)\n        .then((date) => refs.list.innerHTML=createMarkup(date.forecast.forecastday))\n        .catch((err) => console.log(err));\n})\n\nfunction getWeather(city, days) {\n  const param = new URLSearchParams({\n    q: city,\n    days,\n  });\n  return fetch(`${refs.BASE_URL}${refs.ENDPOINT}?key=${refs.KEY}&${param}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n\nfunction createMarkup(arr) {\n    return arr.map(({date, day: {avgtemp_c, condition:{icon, text}}}) =>\n       `<li>\n        <img src=\"${icon}\" alt=\"${text}\">\n        <p>${text}</p>\n        <h2>${date}</h2>\n        <h3>${avgtemp_c}</h3>\n    </li>`\n   ).join(''); \n}\n"],"names":["$daf5d33310ba7261$var$refs","BASE_URL","ENDPOINT","KEY","form","document","querySelector","list","addEventListener","e","preventDefault","query","days","currentTarget","elements","city","param","URLSearchParams","q","fetch","then","resp","ok","Error","statusText","json","$daf5d33310ba7261$var$getWeather","value","date","innerHTML","forecast","forecastday","map","day","avgtemp_c","condition","icon","text","join","catch","err","console","log"],"version":3,"file":"08-weather.3baac1e6.js.map"}