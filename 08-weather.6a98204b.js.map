{"mappings":"YAGA,IAAMA,EAAO,CACXC,SAAU,+BACVC,SAAU,iBACRC,IAAK,kCACPC,KAAMC,SAASC,cAAc,mBAC7BC,KAAMF,SAASC,cAAc,0BAI/BN,EAAKI,KAAKI,iBAAiB,UAAU,SAACC,GAClCA,EAAEC,iBACF,IAAsBC,EAAAF,EAAEG,cAAcC,SAA/BC,EAAeH,EAAfG,MAAOC,EAAQJ,EAARI,MAMlB,SAAoBC,EAAMD,GACxB,IAAME,EAAQ,IAAIC,gBAAgB,CAChCC,EAAGH,EACHD,SAEF,OAAOK,MAAM,GAAmBC,OAAhBrB,EAAKC,UAAgCoB,OAArBrB,EAAKE,SAAS,SAAmBmB,OAAZrB,EAAKG,IAAI,KAASkB,OAANJ,IAASK,MACxE,SAAAC,GACE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,KAfdC,CAAWd,EAAMe,MAAOd,EAAKc,OACxBP,MAAK,SAACQ,G,OAAS9B,EAAKO,KAAKwB,UAAuBD,EAAKE,SAASC,YAoBxDC,KAAI,SAAAjB,G,IAAEa,EAAIb,EAAJa,KAAIK,EAAAlB,EAAEmB,IAAMC,EAASF,EAATE,UAASC,EAAAH,EAAEI,UAAWC,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,K,MACtD,2BAC2BpB,OAAdmB,EAAK,WACZnB,OADqBoB,EAAK,mBAEzBpB,OADDoB,EAAK,sBAEJpB,OADAS,EAAK,uBACKT,OAAVgB,EAAU,mB,IAEnBK,KAAK,G,IA1BDC,OAAM,SAACC,G,OAAQC,QAAQC,IAAIF,E","sources":["src/js/08-w.js"],"sourcesContent":["/*http://api.weatherapi.com/v1/forecast.json?key=4a0f16517e4d46ca8cd192223241209&q=Leiria&days=5\n */\n\nconst refs = {\n  BASE_URL: 'http://api.weatherapi.com/v1',\n  ENDPOINT: '/forecast.json',\n    KEY: '4a0f16517e4d46ca8cd192223241209',\n  form: document.querySelector('.js-search-form'),\n  list: document.querySelector('.js-weather-container'),\n};\nconst options = {};\n\nrefs.form.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const {query, days} = e.currentTarget.elements\n    getWeather(query.value, days.value)\n        .then((date) => refs.list.innerHTML=createMarkup(date.forecast.forecastday))\n        .catch((err) => console.log(err));\n})\n\nfunction getWeather(city, days) {\n  const param = new URLSearchParams({\n    q: city,\n    days,\n  });\n  return fetch(`${refs.BASE_URL}${refs.ENDPOINT}?key=${refs.KEY}&${param}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n\nfunction createMarkup(arr) {\n    return arr.map(({date, day: {avgtemp_c, condition:{icon, text}}}) =>\n       `<li>\n        <img src=\"${icon}\" alt=\"${text}\">\n        <p>${text}</p>\n        <h2>${date}</h2>\n        <h3>${avgtemp_c}</h3>\n    </li>`\n   ).join(''); \n}\n"],"names":["$66d7fd117eb67c4c$var$refs","BASE_URL","ENDPOINT","KEY","form","document","querySelector","list","addEventListener","e","preventDefault","_elements","currentTarget","elements","query","days","city","param","URLSearchParams","q","fetch","concat","then","resp","ok","Error","statusText","json","$66d7fd117eb67c4c$var$getWeather","value","date","innerHTML","forecast","forecastday","map","_day","day","avgtemp_c","_condition","condition","icon","text","join","catch","err","console","log"],"version":3,"file":"08-weather.6a98204b.js.map"}