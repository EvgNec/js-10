{"mappings":"YAAA,IAAMA,EAAO,CACXC,SAAU,+BACVC,QAAS,8CACTC,IAAM,sCACNC,SAAU,UACVC,IAAK,wEAELC,KAAMC,SAASC,cAAc,YAC7BC,YAAaF,SAASC,cAAc,iBACpCE,SAAUH,SAASI,eAAe,YAClCC,KAAML,SAASI,eAAe,SAGhCE,MAAMb,EAAKG,IAAK,CACdW,QAAS,CACP,YAAad,EAAKK,OAGnBU,MAAK,SAAAC,GACJ,OAAOA,EAASC,M,IAEjBF,MAAK,SAAAG,GACWA,EAAKC,KAAI,SAAAC,GACtB,MAAO,CAAEC,GAAID,EAAIC,GAAIC,KAAMF,EAAIE,K,IAExBC,SAAQ,SAAAC,GACf,IAAMC,EAASlB,SAASmB,cAAc,UACtBD,EAATE,MAAQH,EAAKH,GACLI,EAARG,YAAcJ,EAAKF,KACOZ,SAAxBmB,YAAYJ,E,OAGxBK,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E,IAGhBrB,SAASwB,iBAAiB,UAAU,SAAAC,GAClCH,QAAQC,IAAI,mBAAsCG,OAAnBD,EAAME,OAAOV,QAC5C,IAAMN,EAAK,GAAsBe,OAAnBD,EAAME,OAAOV,OAC3BW,EAAOjB,E,IAGT,IAAMiB,EAAS,SAAUjB,GACvB,IAAMkB,EAAS,GAAmBH,OAAhBpC,EAAKC,UAA4BmC,OAAjBpC,EAAKI,SAAS,KAAMgC,OAAHf,GACnDW,QAAQC,IAAIM,GAEZ1B,MAAM0B,EAAQ,CACZzB,QAAS,CACP,YAAad,EAAKK,OAGnBU,MAAK,SAAAC,GACJ,OAAOA,EAASC,M,IAEjBF,MAAK,SAAAG,GACJlB,EAAKY,KAAK4B,UA8BhB,SAAwBtB,GACTuB,EAAUvB,EAAKG,IAC5BW,QAAQC,IAAI,4CAA4CQ,EAAUvB,EAAKG,KACvE,IAAIqB,EAAS,GAUb,OARAA,GAAU,2CAGCN,OADClB,EAAKI,KAAK,sBACMc,OAAjBlB,EAAKyB,YAAY,oC,CAtCFC,CAAe1B,GAErCc,QAAQC,IAAIf,E,IAEbY,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E,KAIlB,SAASU,EAAUpB,GACjB,IAAMwB,EAAY,GAA4BT,OAAzBpC,EAAKE,QAAQ,cAAekC,OAAHf,GAC9CR,MAAMgC,EAAW,CACf/B,QAAS,CACP,YAAad,EAAKK,OAGnBU,MAAK,SAAAC,GACJ,OAAOA,EAASC,M,IAEjBF,MAAK,SAAAG,GACJA,EAAKC,KAAI,SAAAC,GAEJ,OADHY,QAAQC,IAAI,wBAA2Bb,EAAI0B,KACpC,CAAEA,IAAK1B,EAAI0B,I,OAGrBhB,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E","sources":["src/js/10-cat.js"],"sourcesContent":["const refs = {\n  BASE_URL: 'https://api.thecatapi.com/v1',\n  IMG_URL: 'https://api.thecatapi.com/v1/images/search?',\n  URL: `https://api.thecatapi.com/v1/breeds`,\n  ENDPOINT: '/breeds',\n  KEY: 'live_6mSRucqNyrSNqpDecLOPuWFbMXAyH4nVJnDAVE1MvYAWkJLHdyznA0qqn2NkF7EW',\n  // target: document.querySelector('.js-guard'),\n  list: document.querySelector('.js-list'),\n  btnLoadMore: document.querySelector('.js-load-more'),\n  dropdown: document.getElementById('dropdown'),\n  grid: document.getElementById('grid'),\n};\n\nfetch(refs.URL, {\n  headers: {\n    'x-api-key': refs.KEY,\n  },\n})\n  .then(response => {\n    return response.json();\n  })\n  .then(data => {\n    let nameData = data.map(obj => {\n      return { id: obj.id, name: obj.name };\n    });\n    nameData.forEach(item => {\n      const option = document.createElement('option'); // –°—Ç–≤–æ—Ä—é—î–º–æ –µ–ª–µ–º–µ–Ω—Ç <option>\n      option.value = item.id; // –ó–∞–¥–∞—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è value\n      option.textContent = item.name; // –¢–µ–∫—Å—Ç, —è–∫–∏–π –±—É–¥–µ –ø–æ–∫–∞–∑–∞–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É\n      dropdown.appendChild(option); // –î–æ–¥–∞—î–º–æ <option> —É <select>\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n\ndropdown.addEventListener('change', event => {\n  console.log(`Selected value: ${event.target.value}`);\n  const id = `${event.target.value}`;\n  GetCat(id);\n});\n\nconst GetCat = function (id) {\n  const urlCat = `${refs.BASE_URL}${refs.ENDPOINT}/${id}`;\n  console.log(urlCat);\n\n  fetch(urlCat, {\n    headers: {\n      'x-api-key': refs.KEY,\n    },\n  })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      refs.grid.innerHTML = generateMarkup(data);\n\n      console.log(data);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n};\n\nfunction getImgCat(id) {\n  const urlCatImg = `${refs.IMG_URL}breed_ids=${id}`;\n  fetch(urlCatImg, {\n    headers: {\n      'x-api-key': refs.KEY,\n    },\n  })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      data.map(obj => {\n        console.log('üöÄ ~ .then ~ obj.url:', obj.url);\n        return { url: obj.url };\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\nfunction generateMarkup(data) {\n  let urlCat = getImgCat(data.id);\n  console.log('üöÄ ~ generateMarkup ~ getImgCat(data.id):', getImgCat(data.id));\n  let markup = '';\n\n  markup += `\n      <div class=\"item\">\n        <h2>${data.name}</h2>\n        <p>${data.description}</p>\n       \n      </div>\n    `;\n\n  return markup;\n}\n"],"names":["$9b7fec5063707d6d$var$refs","BASE_URL","IMG_URL","URL","ENDPOINT","KEY","list","document","querySelector","btnLoadMore","dropdown","getElementById","grid","fetch","headers","then","response","json","data","map","obj","id","name","forEach","item","option","createElement","value","textContent","appendChild","catch","error","console","log","addEventListener","event","concat","target","$9b7fec5063707d6d$var$GetCat","urlCat","innerHTML","$9b7fec5063707d6d$var$getImgCat","markup","description","$9b7fec5063707d6d$var$generateMarkup","urlCatImg","url"],"version":3,"file":"10-cat.0bea1755.js.map"}