{"mappings":"AAAA,MAAMA,EAAO,CACXC,SAAU,+BACVC,QAAS,8CACTC,IAAK,sCACLC,SAAU,UACVC,IAAK,wEAELC,KAAMC,SAASC,cAAc,YAC7BC,YAAaF,SAASC,cAAc,iBACpCE,SAAUH,SAASI,eAAe,YAClCC,KAAML,SAASI,eAAe,SAGhCE,MAAMb,EAAKG,IAAK,CACdW,QAAS,CACP,YAAad,EAAKK,OAGnBU,MAAKC,GACGA,EAASC,SAEjBF,MAAKG,IACWA,EAAKC,KAAIC,IACf,CAAEC,GAAID,EAAIC,GAAIC,KAAMF,EAAIE,SAExBC,SAAQC,IACf,MAAMC,EAASlB,SAASmB,cAAc,UACtBD,EAATE,MAAQH,EAAKH,GACLI,EAARG,YAAcJ,EAAKF,KACOZ,SAAxBmB,YAAYJ,EAAO,GAC5B,IAEHK,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E,IAGhBrB,SAASwB,iBAAiB,UAAUC,IAClCH,QAAQC,IAAI,mBAAmBE,EAAMC,OAAOT,SAC5C,MAAMN,EAAK,GAAGc,EAAMC,OAAOT,QAC3BU,EAAOhB,EAAG,IAGZ,MAAMgB,EAAS,SAAUhB,GACvB,MAAMiB,EAAS,GAAGtC,EAAKC,WAAWD,EAAKI,YAAYiB,IACnDW,QAAQC,IAAIK,GAEZzB,MAAMyB,EAAQ,CACZxB,QAAS,CACP,YAAad,EAAKK,OAGnBU,MAAKC,GACGA,EAASC,SAEjBF,MAAKG,IACJlB,EAAKY,KAAK2B,UA8BhB,SAAwBrB,GACTsB,EAAUtB,EAAKG,IAC5BW,QAAQC,IAAI,4CAA4CO,EAAUtB,EAAKG,KACvE,IAAIoB,EAAS,GAUb,OARAA,GAAU,2CAEEvB,EAAKI,yBACNJ,EAAKwB,+CAKTD,C,CA3CmBE,CAAezB,GAErCc,QAAQC,IAAIf,EAAK,IAElBY,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E,KAIlB,SAASS,EAAUnB,GACjB,MAAMuB,EAAY,GAAG5C,EAAKE,oBAAoBmB,IAC9CR,MAAM+B,EAAW,CACf9B,QAAS,CACP,YAAad,EAAKK,OAGnBU,MAAKC,GACGA,EAASC,SAEjBF,MAAKG,IACJA,EAAKC,KAAIC,IACPY,QAAQC,IAAI,wBAA2Bb,EAAIyB,KACpC,CAAEA,IAAKzB,EAAIyB,OAClB,IAEHf,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E","sources":["src/js/10-cat.js"],"sourcesContent":["const refs = {\n  BASE_URL: 'https://api.thecatapi.com/v1',\n  IMG_URL: 'https://api.thecatapi.com/v1/images/search?',\n  URL: `https://api.thecatapi.com/v1/breeds`,\n  ENDPOINT: '/breeds',\n  KEY: 'live_6mSRucqNyrSNqpDecLOPuWFbMXAyH4nVJnDAVE1MvYAWkJLHdyznA0qqn2NkF7EW',\n  // target: document.querySelector('.js-guard'),\n  list: document.querySelector('.js-list'),\n  btnLoadMore: document.querySelector('.js-load-more'),\n  dropdown: document.getElementById('dropdown'),\n  grid: document.getElementById('grid'),\n};\n\nfetch(refs.URL, {\n  headers: {\n    'x-api-key': refs.KEY,\n  },\n})\n  .then(response => {\n    return response.json();\n  })\n  .then(data => {\n    let nameData = data.map(obj => {\n      return { id: obj.id, name: obj.name };\n    });\n    nameData.forEach(item => {\n      const option = document.createElement('option'); // –°—Ç–≤–æ—Ä—é—î–º–æ –µ–ª–µ–º–µ–Ω—Ç <option>\n      option.value = item.id; // –ó–∞–¥–∞—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è value\n      option.textContent = item.name; // –¢–µ–∫—Å—Ç, —è–∫–∏–π –±—É–¥–µ –ø–æ–∫–∞–∑–∞–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É\n      dropdown.appendChild(option); // –î–æ–¥–∞—î–º–æ <option> —É <select>\n    });\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n\ndropdown.addEventListener('change', event => {\n  console.log(`Selected value: ${event.target.value}`);\n  const id = `${event.target.value}`;\n  GetCat(id);\n});\n\nconst GetCat = function (id) {\n  const urlCat = `${refs.BASE_URL}${refs.ENDPOINT}/${id}`;\n  console.log(urlCat);\n\n  fetch(urlCat, {\n    headers: {\n      'x-api-key': refs.KEY,\n    },\n  })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      refs.grid.innerHTML = generateMarkup(data);\n\n      console.log(data);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n};\n\nfunction getImgCat(id) {\n  const urlCatImg = `${refs.IMG_URL}breed_ids=${id}`;\n  fetch(urlCatImg, {\n    headers: {\n      'x-api-key': refs.KEY,\n    },\n  })\n    .then(response => {\n      return response.json();\n    })\n    .then(data => {\n      data.map(obj => {\n        console.log('üöÄ ~ .then ~ obj.url:', obj.url);\n        return { url: obj.url };\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n\nfunction generateMarkup(data) {\n  let urlCat = getImgCat(data.id);\n  console.log('üöÄ ~ generateMarkup ~ getImgCat(data.id):', getImgCat(data.id));\n  let markup = '';\n\n  markup += `\n      <div class=\"item\">\n        <h2>${data.name}</h2>\n        <p>${data.description}</p>\n       \n      </div>\n    `;\n\n  return markup;\n}\n"],"names":["$2f5ecb4a5efaa5bc$var$refs","BASE_URL","IMG_URL","URL","ENDPOINT","KEY","list","document","querySelector","btnLoadMore","dropdown","getElementById","grid","fetch","headers","then","response","json","data","map","obj","id","name","forEach","item","option","createElement","value","textContent","appendChild","catch","error","console","log","addEventListener","event","target","$2f5ecb4a5efaa5bc$var$GetCat","urlCat","innerHTML","$2f5ecb4a5efaa5bc$var$getImgCat","markup","description","$2f5ecb4a5efaa5bc$var$generateMarkup","urlCatImg","url"],"version":3,"file":"10-cat.55fc1413.js.map"}