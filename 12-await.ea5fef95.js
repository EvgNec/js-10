const t={btnAddCountry:document.querySelector(".js-add"),listCountry:document.querySelector(".js-list"),formCountry:document.querySelector(".js-form"),formContainer:document.querySelector(".js-form-container")};t.btnAddCountry.addEventListener("click",(function(){t.formContainer.insertAdjacentHTML("beforeend",'<input type="text" name="country">')})),t.formCountry.addEventListener("submit",(function(n){n.preventDefault();const e=new FormData(n.currentTarget);(async function(t){const n="https://restcountries.com/v3.1/name/",e=t.map((async t=>{const e=await fetch(`${n}${t}`);if(!e.ok)throw new Error("Not found");return e.json()})),r=await Promise.allSettled(e);return r.filter((({status:t})=>"fulfilled"===t)).map((({value:t})=>t[0]))})(e.getAll("country").filter((t=>t)).map((t=>t.trim()))).then((async n=>{const e=n.map((({capital:t})=>t[0])),r=await async function(t){const n="http://api.weatherapi.com/v1",e="4a0f16517e4d46ca8cd192223241209",r=t.map((async t=>{const r=new URLSearchParams({key:e,q:t,lang:"uk"}),o=await fetch(`${n}/current.json?${r}`);if(!o.ok)throw new Error(o.statusText);return o.json()})),o=(await Promise.allSettled(r)).filter((({status:t})=>"fulfilled"===t)).map((({value:t})=>t));return console.log("ðŸš€ ~ getWeather ~ obj:",o),o}(e);t.listCountry.innerHTML=function(t){return t.map((({current:{temp_c:t,condition:{text:n,icon:e}},location:{country:r,name:o}})=>`<li>\n    <div>\n        <h2>${r}</h2>\n        <h3>${o}</h3>\n        <img src="${e}" alt="${n}">\n    </div>\n    <p>${n}</p>\n    <p>${t}</p>\n</li>`)).join("")}(r)})).catch((t=>console.log(t))).finally((()=>{t.formContainer.innerHTML='<input type="text" name="country">',t.formCountry.reset()}))}));
//# sourceMappingURL=12-await.ea5fef95.js.map
