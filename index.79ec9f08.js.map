{"mappings":"AAKA,MAAMA,EAAO,CACXC,KAAMC,SAASC,eAAe,QAC9BC,YAAaF,SAASC,eAAe,gBAwCvC,SAASE,EAAeC,GACtBN,EAAKI,YAAYG,UAAYD,C,CAG/B,SAASE,EAAQC,GACfC,QAAQC,MAAMF,GACdJ,EAAe,oB,CA3CjBL,EAAKC,KAAKW,iBAAiB,UAE3B,SAAkBC,GAChBA,EAAEC,iBACF,MAAMb,EAAOY,EAAEE,eCXAC,EDYIf,EAAKgB,SAASC,KAAKC,MCX/BC,MAAM,+EAAmCJ,KAASK,MAAMC,GAC7DA,EAAKC,UDYJF,MAAK,EAACG,SAAEA,MAEP,GADAd,QAAQe,IAAID,GACY,IAApBA,EAASE,OAAc,MAAM,IAAIC,MAAM,YAM3CtB,EAJemB,EAASI,QACtB,CAACtB,EAAQuB,IAAYvB,EAU7B,UAAsBwB,MAAEA,EAAKC,OAAEA,EAAMC,IAAEA,EAAGC,WAAEA,EAAUC,YAAEA,IACtD,MAAO,uEAE2BJ,8CACCC,GAAU,oCAErCE,GACA,uMAE+BC,0BACvBF,sE,CApBoBG,CAAaN,IAC3C,IAEoB,IAGvBO,MAAM5B,GACN6B,SAAQ,IAAMpC,EAAKqC,UC1BxB,IAAiBtB,C","sources":["src/scripts/script.js","src/scripts/api.js"],"sourcesContent":["// **Написати додаток пошуку новин**\n// Користувач бачить на екрані інпут ⇒ вводить в нього запит ⇒ отримує на екрані підбірку новин по його запиту.\n\nimport { getNews } from \"./api.js\";\n\nconst refs = {\n  form: document.getElementById(\"form\"),\n  newsWrapper: document.getElementById(\"newsWrapper\"),\n};\n\nrefs.form.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const inputValue = form.elements.news.value;\n  getNews(inputValue)\n    .then(({ articles }) => {\n      console.log(articles);\n      if (articles.length === 0) throw new Error(\"No data!\");\n\n      const markup = articles.reduce(\n        (markup, article) => markup + createMarkup(article),\n        \"\"\n      );\n      updateNewsList(markup);\n    })\n    // .catch((err) => onError(err))\n    .catch(onError)\n    .finally(() => form.reset());\n}\n\nfunction createMarkup({ title, author, url, urlToImage, description }) {\n  return `\n    <div class=\"article-card\">\n        <h2 class=\"article-title\">${title}</h2>\n        <h3 class=\"article-author\">${author || \"Unknown\"}</h3>\n        <img src=${\n          urlToImage ||\n          \"https://sun9-43.userapi.com/impf/c637716/v637716451/5754/CZa3BJtbJtg.jpg?size=520x0&quality=95&sign=02df8d0cd8ae78099bc1f50938efd60a\"\n        } class=\"article-img\">\n        <p class=\"article-description\">${description}</p>\n        <a href=${url} target=\"_blank\" class=\"article-link\">Read more</a>\n    </div>\n  `;\n}\n\nfunction updateNewsList(markup) {\n  refs.newsWrapper.innerHTML = markup;\n}\n\nfunction onError(err) {\n  console.error(err);\n  updateNewsList(\"<p>Not found!</p>\");\n}\n\n\n\n/*\n* CRUD - create read update delete\n\n- POST - create\n- створює новий ресурс\n- при створенні ресурсу, сервер автоматично дасть йому ID\n- цей метод не є ідемпотентим\n\n/user\n\n- PUT - update\n- оновлює вже існуючий ресурс, або створює його, якщо на сервері такого не існує\n- є ідемпотентним\n\n/user/{id}\n\n\n*/","const ENDPOINT = \"https://newsapi.org/v2/everything\";\nconst API_KEY = \"dd82ff3604224bf1b224da3ef75c9135\";\n\nfunction getNews(query) {\n  return fetch(`${ENDPOINT}?apiKey=${API_KEY}&q=${query}`).then((data) =>\n    data.json()\n  );\n}\n\nexport { getNews };\n\n// fetch(`${ENDPOINT}?q=gpt`, {\n//   headers: {\n//     \"X-Api-Key\": API_KEY,\n//   },\n// })\n//   .then((data) => data.json())\n//   .then(({ articles }) => console.log(articles));"],"names":["$d2ea515b999c1960$var$refs","form","document","getElementById","newsWrapper","$d2ea515b999c1960$var$updateNewsList","markup","innerHTML","$d2ea515b999c1960$var$onError","err","console","error","addEventListener","e","preventDefault","currentTarget","query","elements","news","value","fetch","then","data","json","articles","log","length","Error","reduce","article","title","author","url","urlToImage","description","$d2ea515b999c1960$var$createMarkup","catch","finally","reset"],"version":3,"file":"index.79ec9f08.js.map"}